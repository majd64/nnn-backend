(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{119:function(e,a,t){e.exports=t.p+"static/media/nut.1b543ca3.png"},121:function(e,a,t){},122:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),s=t.n(r),c=t(8),i=t(25),m=t(28),u=t(11),o=t.n(u),d=t(20),f=t.n(d);var E=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(c.a)(a,2),r=t[0],s=t[1],u=Object(n.useState)(!1),d=Object(c.a)(u,2),E=d[0],b=d[1],p=Object(n.useState)({username:"",email:"",password:"",password2:""}),h=Object(c.a)(p,2),g=h[0],v=h[1];function N(e){var a=e.target,t=a.value,n=a.name;v((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},n,t))}))}return l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",null,g.username?g.username.length>12?"Hello "+g.username.substring(0,12)+"...":"Hello "+g.username:"Hello"),l.a.createElement("form",null,l.a.createElement("input",{className:"input",value:g.email,onChange:N,name:"email",placeholder:"Email",type:"Username",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:g.username,onChange:N,placeholder:"Username",name:"username",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:g.password,onChange:N,name:"password",placeholder:"Password",type:"password",autoComplete:"no"}),l.a.createElement("input",{className:"input",value:g.password2,onChange:N,name:"password2",placeholder:"Confirm Password",type:"password",autoComplete:"no"}),l.a.createElement("button",{type:"submit",onClick:function(a){a.preventDefault(),o.a.post("/api/register",f.a.stringify(g)).then((function(a){"success"===a.data.status?(s(null),b(!0),setTimeout((function(){e.reAuth()}),2e3)):s(a.data.message)})).catch((function(){s("an unknown error occured")}))},className:"form-button btn btn-danger join-button"},"Sign Up"),r&&l.a.createElement("div",{className:"invalid-feedback d-block"},r),E&&l.a.createElement("div",{className:"valid-feedback d-block"},"Success! Please verify your email address")))))};var b=function(e){e.auth&&e.history.push("/");var a=Object(n.useState)(null),t=Object(c.a)(a,2),r=t[0],s=t[1],u=Object(n.useState)(!1),d=Object(c.a)(u,2),E=d[0],b=d[1],p=Object(n.useState)({email:"",password:""}),h=Object(c.a)(p,2),g=h[0],v=h[1];function N(e){var a=e.target,t=a.value,n=a.name;v((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(i.a)({},n,t))}))}return l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",null,"Welcome back!"),l.a.createElement("form",{autoComplete:"new-password"},l.a.createElement("input",{autoFocus:!0,id:"email",className:"input",value:g.email,onChange:N,name:"email",placeholder:"Email",type:"email"}),l.a.createElement("input",{id:"password",className:"input",value:g.password,onChange:N,name:"password",placeholder:"Password",type:"password"}),l.a.createElement("button",{onClick:function(a){a.preventDefault(),o.a.post("/api/login",f.a.stringify(g)).then((function(a){"success"===a.data.status?(b(!0),setTimeout((function(){e.reAuth()}),500)):s(a.data.message)})).catch((function(){s("invalid username or password")}))},className:"form-button btn btn-danger join-button"},"Log in"),r&&l.a.createElement("div",{className:"invalid-feedback d-block"},r),E&&l.a.createElement("div",{className:"valid-feedback d-block"},"Success!")))))};var p=function(e){return l.a.createElement("div",null,"About")};var h=function(e){return l.a.createElement("div",null,"rules")},g=t(4),v=t(139),N=t(140),y=t(142);var k=function(e){var a=Object(n.useState)(i()),t=Object(c.a)(a,2),r=t[0],s=t[1];function i(){var e=Date.parse("Nov 1 2020")-Date.parse(new Date),a=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24);return Math.floor(e/864e5)+":"+n+":"+t+":"+a}switch(Object(n.useEffect)((function(){setTimeout((function(){s(i())}),1e3)})),e.size){case 1:return l.a.createElement("h1",{style:e.style,className:e.className},r);case 2:return l.a.createElement("h2",{style:e.style,className:e.className},r);case 3:return l.a.createElement("h3",{style:e.style,className:e.className},r);case 4:return l.a.createElement("h4",{style:e.style,className:e.className},r);case 5:return l.a.createElement("h5",{style:e.style,className:e.className},r);case 6:return l.a.createElement("h6",{style:e.style,className:e.className},r);default:return l.a.createElement("h5",{style:e.style,className:e.className},r)}},j=t(34),x=function(e){var a=e.children;return Object(j.useMediaQuery)({minWidth:992})?a:null},O=function(e){var a=e.children;return Object(j.useMediaQuery)({minWidth:768,maxWidth:991})?a:null},w=function(e){var a=e.children;return Object(j.useMediaQuery)({maxWidth:767})?a:null},C=function(e){var a=e.children;return Object(j.useMediaQuery)({minWidth:768})?a:null};var S=function(e){function a(){document.getElementById("responsive-navbar-nav").classList.remove("show")}return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{className:"fixed-top",collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},l.a.createElement(g.b,{className:"navbar-brand",to:"/"},"NNN"),l.a.createElement(k,{style:{color:"white"},className:"my-auto",size:5}),l.a.createElement(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(N.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(y.a,{onSelect:a,className:"mr-auto"}),l.a.createElement(y.a,null,e.auth?l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null,l.a.createElement(g.b,{onClick:a,className:"nav-link",to:"/friends"},"Friends"),l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement("a",{onClick:e.logout,className:"nav-link"},"Log out")),l.a.createElement(O,null,l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement("a",{onClick:(e.logout,a),className:"nav-link"},"Log out")),l.a.createElement(x,null,l.a.createElement(g.b,{className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement(v.a,{onClick:e.logout,variant:"outline-light"},"Log out"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null,l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/register"},"Join"),l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/login"},"Log In"),l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules")),l.a.createElement(O,null,l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/register"},"Join"),l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/login"},"Log In"),l.a.createElement(g.b,{onClick:a,className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{onClick:a,className:"mr-3 nav-link",to:"/rules"},"Rules")),l.a.createElement(x,null,l.a.createElement(g.b,{className:"mr-2 nav-link",to:"/about"},"About"),l.a.createElement(g.b,{className:"mr-3 nav-link",to:"/rules"},"Rules"),l.a.createElement(g.b,{className:"mr-3 btn btn-outline-light",to:"/login"},"Log In"),l.a.createElement(g.b,{className:"mr-2 btn btn-danger",to:"/register"},"Join")))))))};var F=function(e){return l.a.createElement("header",{className:"center"},l.a.createElement("div",{className:"container d-flex h-100 align-items-center"},l.a.createElement("div",{className:"mx-auto text-center"},l.a.createElement("h1",{className:"mx-auto mt-2 mb-0"},"No Nut November"),l.a.createElement("h5",{className:"mx-auto mt-2 mb-0"},l.a.createElement("em",null,"Where boys become men.")),l.a.createElement(k,{className:"mx-auto mt-2 mb-5",size:5}),l.a.createElement("h5",null,"36,847 comrades"),l.a.createElement(g.b,{className:"btn btn-danger",to:"/register"},"Join the boys!"))))};t(42);var R=function(e){return o.a.get("/api/user/friends/messages/".concat(e.match.params.friendid)).then((function(e){"success"===e.data.status&&console.log(e.data.messages)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"helo"))};var A=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"friend"},l.a.createElement("img",{className:"img-circle",width:"60",height:"60",alt:"profile",src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg"}),l.a.createElement("div",{className:"friend-text"},l.a.createElement("div",{style:{position:"relative",top:"15%"}},l.a.createElement("h6",{className:"friend-name"},l.a.createElement("strong",null,l.a.createElement(g.b,{friend:e.friend,to:{pathname:"/messages/".concat(e.friend._id)}},e.friend.username))),l.a.createElement("br",null),l.a.createElement("p",{className:"friend-subtitle"},"Did nut: ",e.friend.didNut.toString())))))},L=t(141),z=t(68),I=t.n(z),M=t(67),T=t.n(M);var _=function(e){function a(a){var t;t=a?"/api/user/friends/friendRequest/true":"/api/user/friends/friendRequest/false",o.a.post(t,f.a.stringify({friendId:e.friend._id})).then((function(a){console.log(a.data),"success"===a.data.status&&e.getFriends()}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"friend friend-request",style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("div",null,l.a.createElement("img",{className:"img-circle",width:"60",height:"60",alt:"profile",src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg"}),l.a.createElement("h6",{className:"friend-name"},l.a.createElement("strong",null,e.friend.username))),l.a.createElement("div",{className:"my-auto",style:{display:"inline-block"}},l.a.createElement(L.a,{onClick:function(){return a(!0)},size:"small",color:"primary","aria-label":"add"}," ",l.a.createElement(T.a,null)," "),l.a.createElement(L.a,{onClick:function(){return a(!1)},className:"ml-2",size:"small",color:"secondary","aria-label":"deny"}," ",l.a.createElement(I.a,null)," "))))},q=t(69),D=t.n(q);var W=function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),r=t[0],s=t[1],i=Object(n.useState)([]),m=Object(c.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(""),b=Object(c.a)(E,2),p=b[0],h=b[1],g=Object(n.useState)(null),v=Object(c.a)(g,2),N=v[0],y=v[1],k=Object(n.useState)(!1),j=Object(c.a)(k,2),x=j[0],O=j[1];function w(){o.a.get("/api/user/friends").then((function(e){"success"===e.data.status&&(s(e.data.friends),d(e.data.friendRequests))}))}return Object(n.useEffect)((function(){w()}),[r.length]),l.a.createElement("div",{className:e.className},l.a.createElement("h4",null,"Add Friend"),l.a.createElement("input",{className:"search-friend-input",name:"username",placeholder:"Enter a username",autoComplete:"no",value:p,onChange:function(e){h(e.target.value)}}),l.a.createElement(L.a,{onClick:function(e){e.preventDefault(),o.a.post("/api/user/friends/sendFriendRequest",f.a.stringify({newfriendusername:p})).then((function(e){"success"===e.data.status?(y(null),O(!0)):"error"===e.data.status&&(y(e.data.message),O(!1))}))},size:"small",color:"secondary","aria-label":"add"},l.a.createElement(D.a,null)),N&&l.a.createElement("div",{className:"invalid-feedback d-block"},N),x&&l.a.createElement("div",{className:"valid-feedback d-block"},"Friend Request Sent!"),l.a.createElement("hr",null),l.a.createElement("h4",null,"Friends"),r.map((function(e,a){return l.a.createElement(A,{key:a,id:a,friend:e})})),l.a.createElement("hr",null),l.a.createElement("h4",null,"Friend Requests"),u.map((function(e,a){return l.a.createElement(_,{key:a,id:a,friend:e,getFriends:w})})))};t(119);var J=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,null,l.a.createElement(W,{className:"shadow-sm friends-list"})),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement(C,null,l.a.createElement("div",{className:"shadow-sm justify-content-center d-flex align-items-center",style:{paddingTop:"8px",color:"#586069",backgroundColor:"#f6f8fa",height:"55px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",borderRadius:"10px",border:"1px solid #e5e8eb"}},l.a.createElement("h4",null," 36,850/36,850 commrads remain "))),l.a.createElement(w,null,l.a.createElement("div",{className:"shadow-sm justify-content-center d-flex align-items-center",style:{paddingTop:"8px",color:"#586069",backgroundColor:"#f6f8fa",height:"55px",marginRight:"20px",marginLeft:"20px",marginTop:"20px",borderRadius:"10px",border:"1px solid #e5e8eb"}},l.a.createElement("h5",null," 36,850/36,850 commrads remain "))),l.a.createElement(C,null,l.a.createElement("div",{className:"justify-content-around d-flex",style:{position:"absolute",width:"calc( 100vw - 350px)",bottom:"30px"}},l.a.createElement(v.a,{style:{width:"400px",height:"60px"},disabled:!0,variant:"danger",size:"lg"},"I Nutted :(")," ")),l.a.createElement(w,null,l.a.createElement("div",{className:"justify-content-around d-flex",style:{position:"absolute",width:"100vw",bottom:"30px"}},l.a.createElement(v.a,{style:{width:"300px",height:"60px"},disabled:!0,variant:"danger",size:"lg"},"I Nutted")," "))))};function P(e){return e.auth?l.a.createElement(J,{user:e.user}):l.a.createElement(F,null)}var Q=function(e){return l.a.createElement(P,{user:e.user,auth:e.auth})};var H=function(e){return l.a.createElement(W,{className:"friends-page"})},U=t(6);t(120),t(121);var B=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=a[1],s=Object(n.useState)(null),i=Object(c.a)(s,2),m=i[0],u=i[1];function d(){o.a.get("/api/user").then((function(e){"success"===e.data.status?(r(!0),u(e.data.user)):(r(!1),u(null))}))}return Object(n.useEffect)((function(){d()}),[t]),l.a.createElement(g.a,null,l.a.createElement(S,{auth:t,reAuth:d,logout:function(){o.a.get("/api/logout").then((function(){return d()}))}}),l.a.createElement(U.a,{path:"/",exact:!0,render:function(e){return l.a.createElement(Q,Object.assign({},e,{auth:t,user:m}))}}),l.a.createElement(U.a,{path:"/friends",exact:!0,render:function(e){return l.a.createElement(H,Object.assign({},e,{auth:t,user:m}))}}),l.a.createElement(U.a,{path:"/register",exact:!0,render:function(e){return l.a.createElement(E,Object.assign({},e,{auth:t,reAuth:d}))}}),l.a.createElement(U.a,{path:"/login",exact:!0,render:function(e){return l.a.createElement(b,Object.assign({},e,{auth:t,reAuth:d}))}}),l.a.createElement(U.a,{path:"/about",exact:!0,component:p}),l.a.createElement(U.a,{path:"/rules",exact:!0,component:h}),l.a.createElement(U.a,{exact:!0,path:"/messages/:friendid/",component:R}))};s.a.render(l.a.createElement(B,null),document.getElementById("root"))},42:function(e,a,t){},72:function(e,a,t){e.exports=t(122)}},[[72,1,2]]]);
//# sourceMappingURL=main.ba5d0721.chunk.js.map